(this.webpackJsonpkeva_ws=this.webpackJsonpkeva_ws||[]).push([[0],{102:function(e,t,n){},104:function(e,t,n){},113:function(e,t){},115:function(e,t){},125:function(e,t){},127:function(e,t){},141:function(e,t){},144:function(e,t){},221:function(e,t,n){"use strict";n.r(t);var c=n(16),a=n.n(c),s=n(96),r=n.n(s),i=(n(102),n(4)),o=n.n(i),u=n(7),l=n(40),d=(n(104),n(97)),p=n(3);function j(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}var h=/\{\{([0-9a-zA-Z]+)\|(.+)\}\}/;function f(e,t,n,c){var a,s=h.exec(e);if(s&&s.length>=3){var r=s[0],i=s[1],o=s[2],u=(a=i,"".concat("https://ipfs.io/ipfs/","/").concat(a));if(o.startsWith("image")){'<br/><img src="'.concat(u,'" height="').concat(t,'" width="').concat(n,'" />');return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"ns-value",children:e.replace(r,"")}),Object(p.jsx)("img",{src:u,width:n,style:{marginTop:20}})]})}if(o.startsWith("video")){var l='<br/><video height="'.concat(t,'" width="').concat(n,'" poster="').concat(c,'"><source src="').concat(u,'" type="').concat(o,'"></video>');return e.replace(r,l)}}return e}var b=function(){var e=Object(c.useRef)(null),t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)({}),i=Object(l.a)(r,2),b=i[0],m=i[1];Object(c.useEffect)((function(){(function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.current=new d.a("wss://ec0.kevacoin.org:8443"),t.next=3,e.current.connect();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var g=Object(c.useState)(""),v=Object(l.a)(g,2),x=v[0],O=v[1],y=function(){var t=Object(u.a)(o.a.mark((function t(n){var c,a,r,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,m({}),!/^\d+$/.test(x)){t.next=20;break}return t.next=6,e.current.getNamespaceIdFromShortCode(x);case 6:if(c=t.sent){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,e.current.getKeyValues(c);case 11:return a=t.sent,s(a.data),t.next=15,e.current.getNamespaceInfo(c);case 15:(r=t.sent).namespaceId=c,m(r),t.next=29;break;case 20:return t.next=22,e.current.getKeyValues(x);case 22:return i=t.sent,s(i.data),t.next=26,e.current.getNamespaceInfo(x);case 26:(u=t.sent).namespaceId=x,m(u);case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(0),console.log(t.t0);case 34:case"end":return t.stop()}}),t,null,[[0,31]])})));return function(e){return t.apply(this,arguments)}}(),N=a.map((function(e,t){var n=e.value;return function(e){var t=h.exec(e);return t&&t.length>=3?{mediaCID:t[1],mimeType:t[2]}:{}}(n).mediaCID?Object(p.jsxs)("div",{className:"ns-key-value",children:[Object(p.jsx)("p",{className:"ns-key",children:e.key}),Object(p.jsx)("p",{className:"ns-time",children:j(e.time)}),f(n,400,400)]},t):Object(p.jsxs)("div",{className:"ns-key-value",children:[Object(p.jsx)("p",{className:"ns-key",children:e.key}),Object(p.jsx)("p",{className:"ns-time",children:j(e.time)}),Object(p.jsx)("p",{className:"ns-value",children:e.value})]},t)})),k=Object(p.jsx)("div",{className:"ns-info",children:Object(p.jsx)("p",{className:"ns-info-name",children:b.displayName+" @"+b.shortCode})});return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{style:{fontSize:18,color:"#4169e1",fontWeight:"700"},children:"Under Active Development"}),Object(p.jsx)("p",{style:{fontSize:14,fontWeight:700},children:"Serverless Keva Blockchain Viewer"}),Object(p.jsxs)("p",{style:{fontSize:14},children:["Enter Namespace ID, e.g. Nfw2WYkGoSKve74cCfEum67x8bFgpHygxg",Object(p.jsx)("br",{}),"Or short code, e.g. 32101"]}),Object(p.jsx)("input",{className:"ns-input",type:"text",placeholder:"Namespace ID or Short Code",style:{marginRight:10},onChange:function(e){O(e.currentTarget.value)}}),Object(p.jsx)("button",{className:"ns-button",onClick:y,children:"Go"})]}),b.displayName?k:null,N]})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,222)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(b,{})}),document.getElementById("root")),m()}},[[221,1,2]]]);
//# sourceMappingURL=main.1f8239fe.chunk.js.map